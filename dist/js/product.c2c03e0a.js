"use strict";(self["webpackChunkshop2"]=self["webpackChunkshop2"]||[]).push([[18],{6770:function(t,e,l){l.r(e),l.d(e,{default:function(){return $}});var s=l(3396),c=l(7139);const o=t=>((0,s.dD)("data-v-1100fdd2"),t=t(),(0,s.Cn)(),t),d=o((()=>(0,s._)("div",{id:"alert-success",class:"alert alert-success d-flex align-items-center",style:{width:"500px",position:"fixed",top:"50px",right:"calc(50% - 250px)","z-index":"2000",transition:"0.5s ease",opacity:"0"},role:"alert"},[(0,s._)("i",{style:{"font-size":"24px"},class:"bi bi-check-circle-fill me-2"}),(0,s._)("div",null," این محصول به سبد خرید شما افزوده شد ")],-1))),a={class:"row justify-content-between"},r=(0,s.uE)('<div class="col-xl-8 mb-3" data-v-1100fdd2><div class="card h-100" data-v-1100fdd2><div class="card-body" data-v-1100fdd2><div class="row" data-v-1100fdd2><div class="col-9 mb-3 pe-0" data-v-1100fdd2><img id="img0" src="" class="img-fluid" alt="" data-v-1100fdd2></div><div class="col-3" data-v-1100fdd2><img id="img1" src="" class="img-fluid mb-4" alt="" data-v-1100fdd2><img id="img2" src="" class="img-fluid mb-4" alt="" data-v-1100fdd2><img id="img3" src="" class="img-fluid" alt="" data-v-1100fdd2></div></div></div></div></div>',1),i={class:"col-md-6 col-xl-4 mb-3"},u={class:"card h-100"},n={class:"card-body text-start"},m=o((()=>(0,s._)("div",{class:"mb-3"},[(0,s._)("label",{class:"labels fw-bold text-black-50"},"موجودی"),(0,s._)("hr",{class:"mb-4",style:{"margin-top":"-2px",color:"#dddddd"}})],-1))),p={class:"row"},b={class:"col-md-12 mb-2"},_=o((()=>(0,s._)("label",{class:"label"},"رنگ",-1))),v={id:"colorsPart",class:"d-flex w-100 py-1"},g=["onClick","data-name"],f=o((()=>(0,s._)("p",{id:"selected_color",class:"mb-3 mt-1"},null,-1))),y={class:"col-md-12 mb-2"},x=o((()=>(0,s._)("label",{class:"label",for:"size_id"},"سایز",-1))),h={id:"size_id",class:"form-select form-select-sm m-0"},w=["onSelect","value","data-dimensions"],k=o((()=>(0,s._)("div",{class:"w-100 mt-3"},null,-1))),S={class:"fw-bold mt-4 col-md-12 mb-2"},z={class:"fw-bold col-md-12 mb-2 small"},C={class:"col-md-12 mb-0"},I={class:"d-inline me-3"},q={key:0,class:"text-decoration-line-through"},A={class:"flex-row-reverse d-flex justify-content-start mt-1 mb-3"},E={class:"col-md-6 col-xl-4 mb-3"},B={class:"card h-100"},D={class:"card-body"},H=o((()=>(0,s._)("div",{class:"text-start mb-3"},[(0,s._)("label",{class:"labels fw-bold text-black-50"},"مشخصات"),(0,s._)("hr",{class:"mb-4",style:{"margin-top":"-2px",color:"#dddddd"}})],-1))),Z={class:"row"},T={class:"col-12 table-responsive px-md-5"},U={class:"table text-start"},j=o((()=>(0,s._)("thead",null,null,-1))),J={scope:"row"},N={style:{"text-align":"justify"}},O={class:"col-md-12 col-xl-8 mb-3"},Y={class:"card h-100"},K={class:"card-body"},P=o((()=>(0,s._)("div",{class:"text-start mb-3"},[(0,s._)("label",{class:"labels fw-bold text-black-50"},"توضیحات"),(0,s._)("hr",{class:"mb-4",style:{"margin-top":"-2px",color:"#dddddd"}})],-1))),L={class:"row"},F={class:"col-12 table-responsive px-md-5"};function G(t,e,l,o,G,M){return(0,s.wg)(),(0,s.iD)(s.HY,null,[d,(0,s._)("div",a,[r,(0,s._)("div",i,[(0,s._)("div",u,[(0,s._)("div",n,[m,(0,s._)("div",p,[(0,s._)("div",b,[_,(0,s._)("div",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.colors,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"color-border"},[(0,s._)("div",{onClick:t=>o.selectColor(e),class:"color-circle","data-name":t.color_name,style:(0,c.j5)("background-color:"+t.color_code+";")},null,12,g)])))),128))]),f]),(0,s._)("div",y,[x,(0,s._)("select",h,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sizes,((t,e)=>((0,s.wg)(),(0,s.iD)("option",{onSelect:e=>o.showDimensions(t.dimensions),class:"option",key:e,value:t.id,"data-dimensions":t.dimensions},(0,c.zw)(t.size)+" "+(0,c.zw)(t.dimensions),41,w)))),128))]),k]),(0,s._)("div",S,[(0,s._)("p",null,(0,c.zw)(o.product.title),1)]),(0,s._)("div",z,[(0,s._)("p",null,(0,c.zw)(o.product.subtitle),1)]),(0,s._)("div",C,[(0,s._)("p",I,(0,c.zw)(o.product.price-o.product.price*o.product.off/100)+" تومان",1),o.product.off?((0,s.wg)(),(0,s.iD)("small",q,(0,c.zw)(o.product.price),1)):(0,s.kq)("",!0)]),(0,s._)("small",A,[(0,s._)("i",{class:(0,c.C_)(["bi me-1",{"bi-star-fill":o.product.score>=1,"bi-star":0==o.product.score,"text-warning":o.product.stock,"bi-star-half ":0<o.product.score&&o.product.score<1,"text-muted":0==o.product.stock}])},null,2),(0,s._)("i",{class:(0,c.C_)(["bi me-1",{"bi-star-fill":o.product.score>=2,"bi-star":o.product.score<2&&o.product.score<1,"text-warning":o.product.stock,"bi-star-half ":1<o.product.score&&o.product.score<2,"text-muted":0==o.product.stock}])},null,2),(0,s._)("i",{class:(0,c.C_)(["bi me-1",{"bi-star-fill":o.product.score>=3,"bi-star":o.product.score<3&&o.product.score<2,"text-warning":o.product.stock,"bi-star-half ":2<o.product.score&&o.product.score<3,"text-muted":0==o.product.stock}])},null,2),(0,s._)("i",{class:(0,c.C_)(["bi me-1",{"bi-star-fill":o.product.score>=4,"bi-star":o.product.score<4&&o.product.score<3,"text-warning":o.product.stock,"bi-star-half ":3<o.product.score&&o.product.score<4,"text-muted":0==o.product.stock}])},null,2),(0,s._)("i",{class:(0,c.C_)(["bi me-1",{"bi-star-fill":o.product.score>=5,"bi-star":o.product.score<5&&o.product.score<4,"text-warning":o.product.stock,"bi-star-half ":4<o.product.score&&o.product.score<5,"text-muted":0==o.product.stock}])},null,2)]),(0,s._)("div",null,[(0,s._)("button",{style:{"margin-top":"0"},onClick:e[0]||(e[0]=(...t)=>o.addToCart&&o.addToCart(...t)),class:"btn btn-sm btn-dark w-100"},"افزودن به سبد")])])])])]),(0,s._)("div",E,[(0,s._)("div",B,[(0,s._)("div",D,[H,(0,s._)("div",Z,[(0,s._)("div",T,[(0,s._)("table",U,[j,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.features,(t=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("th",J,(0,c.zw)(t.label),1),(0,s._)("td",N,(0,c.zw)(t.value),1)])))),256))])])])])])])]),(0,s._)("div",O,[(0,s._)("div",Y,[(0,s._)("div",K,[P,(0,s._)("div",L,[(0,s._)("div",F,[(0,s._)("p",null,(0,c.zw)(o.product.text),1)])])])])])])],64)}var M=l(4870),Q=l(2483),R=l(5920),V={name:"Product",components:{App:R.Z},setup(){const t=(0,M.iH)(JSON.parse(localStorage.getItem("user"))),e=(0,Q.yj)(),l=(0,M.iH)(e.params.id),c=(0,M.iH)({}),o=(0,M.iH)([]),d=(0,M.iH)([]),a=(0,M.iH)([]),r=(0,M.iH)([]),i=()=>{axios.get(R.Z.data().apiUrl+"/api/product/"+l.value).then((t=>{c.value=t.data.product,a.value=JSON.parse(t.data.product.features);let e=t.data.colors,l=0;for(l;l<=30;l++)e[l]&&o.value.push(JSON.parse(e[l]));console.log(t.data),console.log(o.value),document.getElementById("img0").setAttribute("src",R.Z.data().apiUrl+t.data.product.images[0]),document.getElementById("img1").setAttribute("src",R.Z.data().apiUrl+t.data.product.images[1]),document.getElementById("img2").setAttribute("src",R.Z.data().apiUrl+t.data.product.images[2]),document.getElementById("img3").setAttribute("src",R.Z.data().apiUrl+t.data.product.images[3])})).then((()=>{n()})).then((()=>{document.querySelector("#colorsPart :nth-child(1)").firstChild.click()})).catch()},u=()=>{null==t.value?alert("لطفا برای سفارش محصول ابتدا از منوی ورود وارد اکانت خود شوید."):axios.post(R.Z.data().apiUrl+"/api/order",{user_id:JSON.parse(localStorage.user).id,product_id:c.value.id,product_size_id:document.getElementById("size_id").value,quantity:1,price:c.value.price,off:c.value.off}).then((t=>{200!==t.status&&201!==t.status||(localStorage.setItem("expire",t.data.expire),localStorage.setItem("ppp",t.data.items.length))})).then((()=>{document.getElementById("alert-success").style.opacity="0.95",document.getElementById("alert-success").style.top="400px",setTimeout((()=>{document.getElementById("alert-success").style.top="-50px",document.getElementById("alert-success").style.opacity="0"}),3e3),setTimeout((()=>this.showToast=!1),3e3)})).catch((t=>{console.log(t)}))};(0,s.bv)((()=>{i()}));const n=t=>{},m=t=>{if(document.querySelector(".selected_color")&&document.querySelector(".selected_color").classList.remove("selected_color"),document.querySelectorAll(".color-circle")&&document.querySelectorAll(".color-circle")[t]&&document.querySelectorAll(".color-circle")[t].classList.add("selected_color"),document.querySelector(".selected_color")&&(document.querySelector("#selected_color").innerText=document.querySelector(".selected_color").getAttribute("data-name")),document.querySelector(".selected_color")){let t=document.querySelector(".selected_color").getAttribute("data-name");axios.get(R.Z.data().apiUrl+"/api/sizes/product/"+l.value+"/"+t).then((async t=>{r.value=[];let e=0;for(e;e<t.data.length;e++)r.value.push(t.data[e]);document.querySelector("#dimensions").innerText=""})).catch((t=>{console.log(t)}))}};return(0,s.Jd)((()=>{document.getElementById("img0").setAttribute("src",""),document.getElementById("img1").setAttribute("src",""),document.getElementById("img2").setAttribute("src",""),document.getElementById("img3").setAttribute("src","")})),{id:l,product:c,colors:o,images:d,addToCart:u,getData:i,router:e,features:a,showDimensions:n,selectColor:m,sizes:r,user:t}}},W=l(89);const X=(0,W.Z)(V,[["render",G],["__scopeId","data-v-1100fdd2"]]);var $=X}}]);
//# sourceMappingURL=product.c2c03e0a.js.map