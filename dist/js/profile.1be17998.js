"use strict";(self["webpackChunkshop2"]=self["webpackChunkshop2"]||[]).push([[845],{9144:function(e,l,t){t.r(l),t.d(l,{default:function(){return cl}});var a=t(3396),s=t(7139),d=t(9242);const o=e=>((0,a.dD)("data-v-00c4df1c"),e=e(),(0,a.Cn)(),e),c={class:"row"},i={class:"col-lg-3 mb-3"},r={class:"card h-100"},n={class:"card-body"},m=o((()=>(0,a._)("div",{class:"bg-light rounded-circle mx-auto",style:{width:"200px",height:"200px",overflow:"hidden"}},[(0,a._)("img",{src:"/img/female.png",class:"img-fluid mt-2",alt:""})],-1))),u={class:"d-flex justify-content-between"},v={class:"mt-3 text-center fw-bold"},_={class:"mt-3 text-center fw-bold"},b={class:"col-lg-9 mb-3"},p={class:"card h-100"},f={class:"card-body"},g=o((()=>(0,a._)("div",{class:"text-start mb-3"},[(0,a._)("label",{class:"labels fw-bold text-black-50"},"مشخصات"),(0,a._)("hr",{class:"mb-4",style:{"margin-top":"-2px",color:"#dddddd"}})],-1))),y={class:"row"},h={class:"col-md-6 mb-2"},w=o((()=>(0,a._)("label",{class:"label",for:"name"},"نام",-1))),E=["value"],x={class:"col-md-6 mb-2"},I=o((()=>(0,a._)("label",{class:"label",for:"gender"},"جنسیت",-1))),B={id:"gender",class:"form-select form-select-sm"},k=o((()=>(0,a._)("option",{value:""},null,-1))),C=["selected"],z=["selected"],D={class:"col-md-6 mb-2"},H=o((()=>(0,a._)("label",{class:"label",for:"mobile"},"موبایل",-1))),A=["value"],q={class:"col-md-6 mb-2"},Y=o((()=>(0,a._)("label",{class:"label",for:"email"},"ایمیل",-1))),K=["value"],S={class:"col-12 mb-2"},M={class:"row"},U={class:"col-lg-12 mb-3"},J={class:"card h-100"},N={class:"card-body"},O=o((()=>(0,a._)("div",{class:"text-start mb-3"},[(0,a._)("label",{class:"labels fw-bold text-black-50"},"سفارش ها"),(0,a._)("hr",{class:"mb-4",style:{"margin-top":"-2px",color:"#dddddd"}})],-1))),T={class:"row"},j={class:"col-12 table-responsive"},Z={class:"table text-start"},L=o((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"کد سفارش"),(0,a._)("th",{scope:"col"},"مبلغ"),(0,a._)("th",{scope:"col",class:"",style:{width:"300px"}},"وضعیت"),(0,a._)("th",{class:"text-end",scope:"col"},"تاریخ سفارش"),(0,a._)("th",{class:"text-end",scope:"col"},"جزییات")])],-1))),P={scope:"row"},W={style:{width:"300px"},class:"py-2"},F={class:"progress",style:{height:"5px"}},G=["aria-valuenow"],Q={class:"text-end"},R={class:"text-end"},V=(0,a.Uk)("مشاهده"),X={class:"row"},$={class:"col-12 mb-3"},ee={class:"card"},le={class:"card-body pb-0"},te={class:"text-start mb-3"},ae=o((()=>(0,a._)("label",{class:"labels fw-bold text-black-50"},"نشانی ها",-1))),se=o((()=>(0,a._)("hr",{class:"mb-4",style:{"margin-top":"-2px",color:"#dddddd"}},null,-1))),de={class:"row"},oe={class:"table"},ce=o((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"عنوان"),(0,a._)("th",{scope:"col"},"استان"),(0,a._)("th",{scope:"col"},"شهر"),(0,a._)("th",{scope:"col"},"کد پستی"),(0,a._)("th",{scope:"col"},"نشانی"),(0,a._)("th",{scope:"col"})])],-1))),ie=["onClick"],re=o((()=>(0,a._)("div",{class:"row"},null,-1))),ne={class:"col-12 mb-3"},me={class:"card"},ue={class:"card-body pb-0"},ve={class:"text-start mb-3"},_e=o((()=>(0,a._)("label",{class:"labels fw-bold text-black-50"},"ثبت نشانی جدید",-1))),be=o((()=>(0,a._)("hr",{class:"mb-4",style:{"margin-top":"-2px",color:"#dddddd"}},null,-1))),pe={class:"row"},fe=o((()=>(0,a._)("div",{class:"col-3"},[(0,a._)("label",{for:"title",class:"form-label"},"عنوان"),(0,a._)("input",{type:"text",class:"form-control form-control-sm",id:"title",required:""}),(0,a._)("div",{class:"form-text error"})],-1))),ge={class:"col-3"},ye=o((()=>(0,a._)("label",{for:"state",class:"form-label"},"استان",-1))),he=o((()=>(0,a._)("option",{value:""},null,-1))),we=["value"],Ee={class:"col-3"},xe=o((()=>(0,a._)("label",{for:"city",class:"form-label"},"شهر",-1))),Ie={id:"city",class:"form-select form-select-sm"},Be=["value"],ke=(0,a.uE)('<div class="col-3" data-v-00c4df1c><label for="postal_code" class="form-label" data-v-00c4df1c>کد پستی</label><input type="text" class="form-control form-control-sm" id="postal_code" required="" data-v-00c4df1c><div class="form-text error" data-v-00c4df1c></div></div><div class="my-2 col-12" data-v-00c4df1c><label for="address" class="form-label" data-v-00c4df1c>نشانی</label><textarea class="form-control form-control-sm" id="address" rows="2" required="" data-v-00c4df1c></textarea><div class="form-text error" data-v-00c4df1c></div></div>',2),Ce={class:"col-12 mb-2"},ze=o((()=>(0,a._)("div",{class:"row"},null,-1))),De={class:"modal fade",id:"EditModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},He={class:"modal-dialog modal-dialog-centered modal-xl"},Ae={class:"modal-content"},qe={class:"modal-body"},Ye={class:"card"},Ke={class:"card-body pb-0"},Se={class:"text-start mb-3"},Me=o((()=>(0,a._)("label",{class:"labels fw-bold text-black-50"},"ویرایش نشانی",-1))),Ue=o((()=>(0,a._)("hr",{class:"mb-4",style:{"margin-top":"-2px",color:"#dddddd"}},null,-1))),Je=o((()=>(0,a._)("input",{type:"hidden",class:"form-control form-control-sm",id:"idEdit",required:""},null,-1))),Ne={class:"row"},Oe=o((()=>(0,a._)("div",{class:"col-3"},[(0,a._)("label",{for:"title",class:"form-label"},"عنوان"),(0,a._)("input",{type:"text",class:"form-control form-control-sm",id:"titleEdit",required:""}),(0,a._)("div",{class:"form-text error"})],-1))),Te={class:"col-3"},je=o((()=>(0,a._)("label",{for:"state",class:"form-label"},"استان",-1))),Ze=o((()=>(0,a._)("option",{value:""},null,-1))),Le=["value"],Pe={class:"col-3"},We=o((()=>(0,a._)("label",{for:"city",class:"form-label"},"شهر",-1))),Fe={id:"cityEdit",class:"form-select form-select-sm"},Ge=["selected","value"],Qe=(0,a.uE)('<div class="col-3" data-v-00c4df1c><label for="postal_code" class="form-label" data-v-00c4df1c>کد پستی</label><input type="text" class="form-control form-control-sm" id="postal_codeEdit" required="" data-v-00c4df1c><div class="form-text error" data-v-00c4df1c></div></div><div class="my-2 col-12" data-v-00c4df1c><label for="address" class="form-label" data-v-00c4df1c>نشانی</label><textarea class="form-control form-control-sm" id="addressEdit" rows="2" required="" data-v-00c4df1c></textarea><div class="form-text error" data-v-00c4df1c></div></div>',2),Re={class:"col-12 mb-2"},Ve=o((()=>(0,a._)("div",{class:"row"},null,-1)));function Xe(e,l,t,o,Xe,$e){const el=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",c,[(0,a._)("div",i,[(0,a._)("div",r,[(0,a._)("div",n,[m,(0,a._)("div",u,[(0,a._)("h6",v,(0,s.zw)(o.user.name),1),(0,a._)("h6",_,(0,s.zw)(o.user.mobile),1)])])])]),(0,a._)("div",b,[(0,a._)("div",p,[(0,a._)("div",f,[g,(0,a._)("form",null,[(0,a._)("div",y,[(0,a._)("div",h,[w,(0,a._)("input",{type:"text",id:"name",class:"form-control form-control-sm",value:o.user.name},null,8,E)]),(0,a._)("div",x,[I,(0,a._)("select",B,[k,(0,a._)("option",{value:"female",selected:"خانم"==o.user.gender&&"selectes"},"خانم",8,C),(0,a._)("option",{value:"male",selected:"آقا"==o.user.gender&&"selectes"},"آقا",8,z)])]),(0,a._)("div",D,[H,(0,a._)("input",{type:"text",disabled:"",id:"mobile",class:"form-control form-control-sm text-left",dir:"ltr",value:o.user.mobile},null,8,A)]),(0,a._)("div",q,[Y,(0,a._)("input",{type:"email",id:"email",class:"form-control form-control-sm",value:o.user.email},null,8,K)]),(0,a._)("div",S,[(0,a._)("input",{type:"submit",class:"btn btn-sm btn-dark float-start",onClick:l[0]||(l[0]=(0,d.iM)(((...e)=>o.updateUser&&o.updateUser(...e)),["prevent"])),value:"ویرایش"})])])])])])])]),(0,a._)("div",M,[(0,a._)("div",U,[(0,a._)("div",J,[(0,a._)("div",N,[O,(0,a._)("div",T,[(0,a._)("div",j,[(0,a._)("table",Z,[L,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.user.orders,(e=>((0,a.wg)(),(0,a.iD)("tr",null,[(0,a._)("th",P,(0,s.zw)(e.code),1),(0,a._)("td",null,(0,s.zw)(e.amount)+" T",1),(0,a._)("td",W,[(0,a._)("span",null,(0,s.zw)(e.status),1),(0,a._)("div",F,[(0,a._)("div",{class:(0,s.C_)("progress-bar order_status rounded "+e.color),role:"progressbar",style:(0,s.j5)("width: "+e.percent+"%"),"aria-valuenow":e.percent,"aria-valuemin":"0","aria-valuemax":"100"},null,14,G)])]),(0,a._)("td",Q,(0,s.zw)(e.created_at),1),(0,a._)("td",R,[(0,a.Wm)(el,{to:"/order/"+e.id,class:"btn btn-sm btn-dark"},{default:(0,a.w5)((()=>[V])),_:2},1032,["to"])])])))),256))])])])])])])])]),(0,a._)("div",X,[(0,a._)("div",$,[(0,a._)("div",ee,[(0,a._)("div",le,[(0,a._)("div",te,[ae,se,(0,a._)("div",null,[(0,a._)("div",de,[(0,a._)("div",null,[(0,a._)("table",oe,[ce,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.user.addresses,(e=>((0,a.wg)(),(0,a.iD)("tr",null,[(0,a._)("td",null,(0,s.zw)(e.title),1),(0,a._)("td",null,(0,s.zw)(e.state.name),1),(0,a._)("td",null,(0,s.zw)(e.city.name),1),(0,a._)("td",null,(0,s.zw)(e.postal_code),1),(0,a._)("td",null,(0,s.zw)(e.address),1),(0,a._)("td",null,[(0,a._)("button",{class:"btn btn-sm btn-dark",onClick:l=>o.showAddToEdit(e),"data-bs-toggle":"modal","data-bs-target":"#EditModal"},"ویرایش ",8,ie)])])))),256))])])])])])]),re])])]),(0,a._)("div",ne,[(0,a._)("div",me,[(0,a._)("div",ue,[(0,a._)("div",ve,[_e,be,(0,a._)("div",null,[(0,a._)("div",pe,[fe,(0,a._)("div",ge,[ye,(0,a._)("select",{id:"state",onChange:l[1]||(l[1]=(...e)=>o.findCities&&o.findCities(...e)),class:"form-select form-select-sm"},[he,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.states,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,s.zw)(e.name),9,we)))),128))],32)]),(0,a._)("div",Ee,[xe,(0,a._)("select",Ie,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.state?.cities,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,s.zw)(e.name),9,Be)))),128))])]),ke,(0,a._)("div",Ce,[(0,a._)("input",{type:"submit",class:"btn btn-sm btn-dark float-start",onClick:l[2]||(l[2]=(0,d.iM)(((...e)=>o.saveAdd&&o.saveAdd(...e)),["prevent"])),value:"ثبت"})])])])]),ze])])])]),(0,a._)("div",De,[(0,a._)("div",He,[(0,a._)("div",Ae,[(0,a._)("div",qe,[(0,a._)("div",Ye,[(0,a._)("div",Ke,[(0,a._)("div",Se,[Me,Ue,(0,a._)("div",null,[Je,(0,a._)("div",Ne,[Oe,(0,a._)("div",Te,[je,(0,a._)("select",{id:"stateEdit",onChange:l[3]||(l[3]=(...e)=>o.findCitiesE&&o.findCitiesE(...e)),class:"form-select form-select-sm"},[Ze,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.states,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,s.zw)(e.name),9,Le)))),128))],32)]),(0,a._)("div",Pe,[We,(0,a._)("select",Fe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.citiesE,(e=>((0,a.wg)(),(0,a.iD)("option",{selected:e.id===o.city_id,key:e.id,value:e.id},(0,s.zw)(e.name),9,Ge)))),128))])]),Qe,(0,a._)("div",Re,[(0,a._)("input",{type:"submit",class:"btn btn-sm btn-dark float-start","data-bs-dismiss":"modal",onClick:l[4]||(l[4]=(0,d.iM)(((...e)=>o.updateAdd&&o.updateAdd(...e)),["prevent"])),value:"ویرایش"})])])])]),Ve])])])])])])],64)}var $e=t(4870);function el(e,l,t,a,s,d){return null}var ll={name:"Banner"},tl=t(89);const al=(0,tl.Z)(ll,[["render",el]]);var sl=al,dl={name:"Profile",components:{Banner:sl},setup(){const e=(0,$e.iH)(""),l=(0,$e.iH)([]),t=(0,$e.iH)({}),s=(0,$e.iH)({}),d=(0,$e.iH)({});(0,a.bv)((()=>{o()}));const o=()=>{axios.get("http://localhost:8000/api/user/"+JSON.parse(localStorage.getItem("user")).id).then((l=>{e.value=l.data,localStorage.setItem("user",JSON.stringify(l.data)),console.log(l.data)})),axios.get("http://localhost:8000/api/state").then((e=>{l.value=e.data}))},c=()=>{axios.get("http://localhost:8000/api/state/"+document.getElementById("state").value).then((e=>{t.value=e.data}))},i=()=>{axios.get("http://localhost:8000/api/state/"+document.getElementById("stateEdit").value).then((e=>{d.value=0,s.value=e.data.cities}))},r=()=>{axios.post("http://localhost:8000/api/address/user",{user_id:e.value.id,title:document.getElementById("title").value,city_id:document.getElementById("city").value,postal_code:document.getElementById("postal_code").value,address:document.getElementById("address").value}).then((e=>{o(),document.getElementById("title").value="",document.getElementById("state").value="",document.getElementById("city").value="",document.getElementById("postal_code").value="",document.getElementById("address").value=""}))},n=()=>{axios.post("http://localhost:8000/api/address/user/"+document.getElementById("idEdit").value,{title:document.getElementById("titleEdit").value,city_id:document.getElementById("cityEdit").value,postal_code:document.getElementById("postal_codeEdit").value,address:document.getElementById("addressEdit").value}).then((e=>{o(),document.getElementById("titleEdit").value="",document.getElementById("stateEdit").value="",document.getElementById("postal_codeEdit").value="",document.getElementById("addressEdit").value="",s.value="",d.value=0}))},m=()=>{axios.post("http://localhost:8000/api/user/"+JSON.parse(localStorage.getItem("user")).id,{name:document.getElementById("name").value,email:document.getElementById("email").value,gender:document.getElementById("gender").value}).then((e=>{o()}))},u=e=>{s.value=e.cities,d.value=e.city_id,document.getElementById("idEdit").value=e.id,document.getElementById("titleEdit").value=e.title,document.getElementById("stateEdit").value=e.city.state.id,document.getElementById("postal_codeEdit").value=e.postal_code,document.getElementById("addressEdit").value=e.address,document.getElementById("cityEdit").value=e.city_id};return{user:e,getData:o,states:l,state:t,findCities:c,findCitiesE:i,saveAdd:r,updateAdd:n,updateUser:m,showAddToEdit:u,citiesE:s,city_id:d}}};const ol=(0,tl.Z)(dl,[["render",Xe],["__scopeId","data-v-00c4df1c"]]);var cl=ol}}]);
//# sourceMappingURL=profile.1be17998.js.map