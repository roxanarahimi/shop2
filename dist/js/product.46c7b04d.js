"use strict";(self["webpackChunkshop2"]=self["webpackChunkshop2"]||[]).push([[18],{1068:function(t,e,s){s.r(e),s.d(e,{default:function(){return $}});var l=s(3396),c=s(7139);const o=t=>((0,l.dD)("data-v-0d62fb8f"),t=t(),(0,l.Cn)(),t),a=o((()=>(0,l._)("div",{id:"alert-success",class:"alert alert-success d-flex align-items-center",style:{width:"500px",position:"fixed",top:"50px",right:"calc(50% - 250px)","z-index":"2000",transition:"0.5s ease",opacity:"0"},role:"alert"},[(0,l._)("i",{style:{"font-size":"24px"},class:"bi bi-check-circle-fill me-2"}),(0,l._)("div",null," این محصول به سبد خرید شما افزوده شد ")],-1))),d={class:"row justify-content-between"},r=(0,l.uE)('<div class="col-xl-8 mb-3" data-v-0d62fb8f><div class="card h-100" data-v-0d62fb8f><div class="card-body" data-v-0d62fb8f><div class="row" data-v-0d62fb8f><div class="col-9 mb-3 pe-0" data-v-0d62fb8f><img id="img0" src="" class="img-fluid" alt="" data-v-0d62fb8f></div><div class="col-3" data-v-0d62fb8f><img id="img1" src="" class="img-fluid mb-4" alt="" data-v-0d62fb8f><img id="img2" src="" class="img-fluid mb-4" alt="" data-v-0d62fb8f><img id="img3" src="" class="img-fluid" alt="" data-v-0d62fb8f></div></div></div></div></div>',1),i={class:"col-md-6 col-xl-4 mb-3"},u={class:"card h-100"},n={class:"card-body text-start"},m=o((()=>(0,l._)("div",{class:"mb-3"},[(0,l._)("label",{class:"labels fw-bold text-black-50"},"موجودی"),(0,l._)("hr",{class:"mb-4",style:{"margin-top":"-2px",color:"#dddddd"}})],-1))),p={class:"row"},b={class:"col-md-12 mb-2"},_=o((()=>(0,l._)("label",{class:"label"},"رنگ",-1))),v={class:"d-flex w-100 py-1"},f=["onClick","data-name"],g=o((()=>(0,l._)("p",{id:"selected_color",class:"mb-3 mt-1"},null,-1))),y={class:"col-md-12 mb-2"},x=o((()=>(0,l._)("label",{class:"label",for:"size_id"},"سایز",-1))),w={id:"size_id",class:"form-select form-select-sm m-0"},h=["onSelect","value","data-dimensions"],k=o((()=>(0,l._)("div",{class:"w-100 mt-3"},null,-1))),S={class:"fw-bold mt-4 col-md-12 mb-2"},z={class:"fw-bold col-md-12 mb-2 small"},I={class:"col-md-12 mb-0"},C={class:"d-inline me-3"},A={key:0,class:"text-decoration-line-through"},E={class:"flex-row-reverse d-flex justify-content-start mt-1 mb-3"},q={class:"col-md-6 col-xl-4 mb-3"},B={class:"card h-100"},D={class:"card-body"},H=o((()=>(0,l._)("div",{class:"text-start mb-3"},[(0,l._)("label",{class:"labels fw-bold text-black-50"},"مشخصات"),(0,l._)("hr",{class:"mb-4",style:{"margin-top":"-2px",color:"#dddddd"}})],-1))),Z={class:"row"},U={class:"col-12 table-responsive px-md-5"},T={class:"table text-start"},j=o((()=>(0,l._)("thead",null,null,-1))),J={scope:"row"},N={style:{"text-align":"justify"}},O={class:"col-md-12 col-xl-8 mb-3"},Y={class:"card h-100"},K={class:"card-body"},L=o((()=>(0,l._)("div",{class:"text-start mb-3"},[(0,l._)("label",{class:"labels fw-bold text-black-50"},"توضیحات"),(0,l._)("hr",{class:"mb-4",style:{"margin-top":"-2px",color:"#dddddd"}})],-1))),P={class:"row"},F={class:"col-12 table-responsive px-md-5"};function G(t,e,s,o,G,M){return(0,l.wg)(),(0,l.iD)(l.HY,null,[a,(0,l._)("div",d,[r,(0,l._)("div",i,[(0,l._)("div",u,[(0,l._)("div",n,[m,(0,l._)("div",p,[(0,l._)("div",b,[_,(0,l._)("div",v,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.colors,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{key:e,class:"color-border"},[(0,l._)("div",{onClick:t=>o.selectColor(e),class:"color-circle","data-name":t.color_name,style:(0,c.j5)("background-color:"+t.color_code+";")},null,12,f)])))),128))]),g]),(0,l._)("div",y,[x,(0,l._)("select",w,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.sizes,((t,e)=>((0,l.wg)(),(0,l.iD)("option",{onSelect:e=>o.showDimensions(t.dimensions),class:"option",key:e,value:t.id,"data-dimensions":t.dimensions},(0,c.zw)(t.size)+" "+(0,c.zw)(t.dimensions),41,h)))),128))]),k]),(0,l._)("div",S,[(0,l._)("p",null,(0,c.zw)(o.product.title),1)]),(0,l._)("div",z,[(0,l._)("p",null,(0,c.zw)(o.product.subtitle),1)]),(0,l._)("div",I,[(0,l._)("p",C,(0,c.zw)(o.product.price-o.product.price*o.product.off/100)+" تومان",1),o.product.off?((0,l.wg)(),(0,l.iD)("small",A,(0,c.zw)(o.product.price),1)):(0,l.kq)("",!0)]),(0,l._)("small",E,[(0,l._)("i",{class:(0,c.C_)(["bi me-1",{"bi-star-fill":o.product.score>=1,"bi-star":0==o.product.score,"text-warning":o.product.stock,"bi-star-half ":0<o.product.score&&o.product.score<1,"text-muted":0==o.product.stock}])},null,2),(0,l._)("i",{class:(0,c.C_)(["bi me-1",{"bi-star-fill":o.product.score>=2,"bi-star":o.product.score<2&&o.product.score<1,"text-warning":o.product.stock,"bi-star-half ":1<o.product.score&&o.product.score<2,"text-muted":0==o.product.stock}])},null,2),(0,l._)("i",{class:(0,c.C_)(["bi me-1",{"bi-star-fill":o.product.score>=3,"bi-star":o.product.score<3&&o.product.score<2,"text-warning":o.product.stock,"bi-star-half ":2<o.product.score&&o.product.score<3,"text-muted":0==o.product.stock}])},null,2),(0,l._)("i",{class:(0,c.C_)(["bi me-1",{"bi-star-fill":o.product.score>=4,"bi-star":o.product.score<4&&o.product.score<3,"text-warning":o.product.stock,"bi-star-half ":3<o.product.score&&o.product.score<4,"text-muted":0==o.product.stock}])},null,2),(0,l._)("i",{class:(0,c.C_)(["bi me-1",{"bi-star-fill":o.product.score>=5,"bi-star":o.product.score<5&&o.product.score<4,"text-warning":o.product.stock,"bi-star-half ":4<o.product.score&&o.product.score<5,"text-muted":0==o.product.stock}])},null,2)]),(0,l._)("div",null,[(0,l._)("button",{style:{"margin-top":"0"},onClick:e[0]||(e[0]=(...t)=>o.addToCart&&o.addToCart(...t)),class:"btn btn-sm btn-dark w-100"},"افزودن به سبد")])])])])]),(0,l._)("div",q,[(0,l._)("div",B,[(0,l._)("div",D,[H,(0,l._)("div",Z,[(0,l._)("div",U,[(0,l._)("table",T,[j,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.features,(t=>((0,l.wg)(),(0,l.iD)("tr",null,[(0,l._)("th",J,(0,c.zw)(t.label),1),(0,l._)("td",N,(0,c.zw)(t.value),1)])))),256))])])])])])])]),(0,l._)("div",O,[(0,l._)("div",Y,[(0,l._)("div",K,[L,(0,l._)("div",P,[(0,l._)("div",F,[(0,l._)("p",null,(0,c.zw)(o.product.text),1)])])])])])])],64)}var M=s(4870),Q=s(2483),R=s(7604),V={name:"Product",components:{App:R.Z},setup(){const t=(0,M.iH)(JSON.parse(localStorage.getItem("user"))),e=(0,Q.yj)(),s=(0,M.iH)(e.params.id),c=(0,M.iH)({}),o=(0,M.iH)([]),a=(0,M.iH)([]),d=(0,M.iH)([]),r=(0,M.iH)([]),i=()=>{axios.get(R.Z.data().apiUrl+"/api/product/"+s.value).then((t=>{c.value=t.data.product,d.value=JSON.parse(t.data.product.features);let e=t.data.colors,s=0;for(s;s<=30;s++)e[s]&&o.value.push(JSON.parse(e[s]));console.log(t.data),console.log(o.value),document.getElementById("img0").setAttribute("src",R.Z.data().apiUrl+t.data.product.images[0]),document.getElementById("img1").setAttribute("src",R.Z.data().apiUrl+t.data.product.images[1]),document.getElementById("img2").setAttribute("src",R.Z.data().apiUrl+t.data.product.images[2]),document.getElementById("img3").setAttribute("src",R.Z.data().apiUrl+t.data.product.images[3])})).then((()=>{n()})).catch()},u=()=>{document.getElementById("alert-success").style.opacity="0.95",document.getElementById("alert-success").style.top="400px",setTimeout((()=>{document.getElementById("alert-success").style.top="-50px",document.getElementById("alert-success").style.opacity="0"}),3e3),t.value?axios.post(R.Z.data().apiUrl+"/api/order",{user_id:JSON.parse(localStorage.user).id,product_id:c.value.id,product_size_id:document.getElementById("size_id").value,quantity:1,price:c.value.price,off:c.value.off}).then((t=>{200!==t.status&&201!==t.status||(localStorage.setItem("expire",t.data.expire),localStorage.setItem("ppp",t.data.items.length))})).then((()=>{})).then((()=>{})).catch((t=>{console.log(t)})):alert("لطفا برای سفارش محصول ابتدا از منوی ورود وارد اکانت خود شوید.")};(0,l.bv)((()=>{i()}));const n=t=>{},m=t=>{if(document.querySelector(".selected_color")&&document.querySelector(".selected_color").classList.remove("selected_color"),document.querySelectorAll(".color-circle")&&document.querySelectorAll(".color-circle")[t]&&document.querySelectorAll(".color-circle")[t].classList.add("selected_color"),document.querySelector(".selected_color")&&(document.querySelector("#selected_color").innerText=document.querySelector(".selected_color").getAttribute("data-name")),document.querySelector(".selected_color")){let t=document.querySelector(".selected_color").getAttribute("data-name");axios.get(R.Z.data().apiUrl+"/api/sizes/product/"+s.value+"/"+t).then((async t=>{r.value=[];let e=0;for(e;e<t.data.length;e++)r.value.push(t.data[e]);document.querySelector("#dimensions").innerText=""})).catch((t=>{console.log(t)}))}};return(0,l.Jd)((()=>{document.getElementById("img0").setAttribute("src",""),document.getElementById("img1").setAttribute("src",""),document.getElementById("img2").setAttribute("src",""),document.getElementById("img3").setAttribute("src","")})),{id:s,product:c,colors:o,images:a,addToCart:u,getData:i,router:e,features:d,showDimensions:n,selectColor:m,sizes:r,user:t}}},W=s(89);const X=(0,W.Z)(V,[["render",G],["__scopeId","data-v-0d62fb8f"]]);var $=X}}]);
//# sourceMappingURL=product.46c7b04d.js.map